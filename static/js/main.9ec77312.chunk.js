(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(t,e,a){t.exports=a(17)},16:function(t,e,a){},17:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),i=a(9),o=a.n(i),c=(a(16),a(7)),s=a(1),l=a(6),d=a(3),u=a(2),p=a(4),f=(a(5),a(10)),h=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(d.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(i)))).state={editModeTitle:!1,editModePriority:!1},a.onPriorityChange=function(t){var e=a.props.task;a.props.changePriority(e.id,t.currentTarget.value)},a.onTitleChange=function(t){var e=a.props.task;a.props.changeTitle(e.id,t.currentTarget.value)},a.onIsDoneChange=function(t){var e=a.props.task;a.props.changeStatus(e.id,t.currentTarget.checked)},a.activateEditModeTitle=function(){a.setState({editModeTitle:!0})},a.deActivateEditModeTitle=function(){a.setState({editModeTitle:!1})},a.activateEditModePriority=function(){a.setState({editModePriority:!0})},a.deActivateEditModePriority=function(){a.setState({editModePriority:!1})},a.render=function(){var t=!0===a.props.task.isDone?"todoList-task-done":"todoList-task";return r.a.createElement("div",{className:t},r.a.createElement("input",{onChange:a.onIsDoneChange,type:"checkbox",checked:a.props.task.isDone}),a.state.editModeTitle?r.a.createElement("input",{onBlur:a.deActivateEditModeTitle,onChange:a.onTitleChange,autoFocus:!0,value:a.props.task.title}):r.a.createElement("span",{onClick:a.activateEditModeTitle}," ",a.props.task.id,"."," ",a.props.task.title," "),",",a.state.editModePriority?r.a.createElement("input",{value:a.props.task.priority,onChange:a.onPriorityChange,onBlur:a.deActivateEditModePriority}):r.a.createElement("span",{onClick:a.activateEditModePriority}," priority: ",a.props.task.priority))},a}return Object(p.a)(e,t),e}(r.a.Component),m=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(d.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(i)))).render=function(){var t=a.props.tasks.map(function(t){return r.a.createElement(h,{changeTitle:a.props.changeTitle,changePriority:a.props.changePriority,changeStatus:a.props.changeStatus,task:t})});return r.a.createElement("div",{className:"todoList-tasks"},t)},a}return Object(p.a)(e,t),e}(r.a.Component),v=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(d.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(i)))).state={isHidden:!1},a.onAllFilterClick=function(){a.props.changeFilter("All")},a.onCompletedFilterClick=function(){a.props.changeFilter("Completed")},a.onActiveFilterClick=function(){a.props.changeFilter("Active")},a.onShowFiltersClick=function(){a.setState({isHidden:!1})},a.onHideFiltersClick=function(){a.setState({isHidden:!0})},a.render=function(){var t="All"===a.props.filterValue?"filter-active":"",e="Completed"===a.props.filterValue?"filter-active":"",n="Active"===a.props.filterValue?"filter-active":"";return r.a.createElement("div",{className:"todoList-footer"},!a.state.isHidden&&r.a.createElement("div",null,r.a.createElement("button",{onClick:a.onAllFilterClick,className:t},"All"),r.a.createElement("button",{onClick:a.onCompletedFilterClick,className:e},"Completed"),r.a.createElement("button",{onClick:a.onActiveFilterClick,className:n},"Active")," "),!a.state.isHidden&&r.a.createElement("span",{onClick:a.onHideFiltersClick},"hide"),a.state.isHidden&&r.a.createElement("span",{onClick:a.onShowFiltersClick},"show"))},a}return Object(p.a)(e,t),e}(r.a.Component),k=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(d.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(i)))).render=function(){return r.a.createElement("div",{className:"todoList-header"},r.a.createElement("h3",{className:"todoList-header__title"},a.props.title))},a}return Object(p.a)(e,t),e}(r.a.Component),g=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(d.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(i)))).state={error:!1,title:""},a.onAddItemClick=function(){var t=a.state.title;if(""===t.trim())return a.setState({error:!0});a.setState({title:""}),a.props.addItem(t)},a.onTitleChange=function(t){a.setState({error:!1,title:t.currentTarget.value})},a.onKeyPress=function(t){"Enter"===t.key&&a.onAddItemClick()},a.render=function(){var t=!0===a.state.error?"error":"";return r.a.createElement("div",{className:"todoList-header"},r.a.createElement("h3",{className:"todoList-header__title"},a.props.title),r.a.createElement("div",{className:"todoList-newTaskForm"},r.a.createElement("input",{onChange:a.onTitleChange,value:a.state.title,className:t,type:"text",placeholder:"New Item name",onKeyPress:a.onKeyPress}),r.a.createElement("button",{onClick:a.onAddItemClick},"Add")))},a}return Object(p.a)(e,t),e}(r.a.Component);function y(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)}return a}var b=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(d.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(i)))).newTaskTitleRef=r.a.createRef(),a.state={tasks:[],filterValue:"All"},a.nextTaskId=0,a.saveState=function(){var t=JSON.stringify(a.state);localStorage.setItem("test-todolist"+a.props.id,t)},a.restoreState=function(){var t={tasks:[],filterValue:"All"},e=localStorage.getItem("test-todolist"+a.props.id);null!==e&&(t=JSON.parse(e)),a.setState(t,function(){a.state.tasks.map(function(t){if(t.id>=a.nextTaskId)return a.nextTaskId++})})},a.addItem=function(t){var e={id:a.nextTaskId,title:t,isDone:!1,priority:"low"};a.nextTaskId++;var n=[].concat(Object(c.a)(a.state.tasks),[e]);a.setState({tasks:n})},a.changeTask=function(t,e){var n=a.state.tasks.map(function(a){return a.id!==t?a:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?y(a,!0).forEach(function(e){Object(f.a)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):y(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}({},a,{},e)});a.setState({tasks:n}),a.saveState()},a.changeFilter=function(t){a.setState({filterValue:t})},a.changeStatus=function(t,e){a.changeTask(t,{isDone:e})},a.changeTitle=function(t,e){a.changeTask(t,{title:e})},a.changePriority=function(t,e){a.changeTask(t,{priority:e})},a.render=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"todoList"},r.a.createElement(k,{title:a.props.title}),r.a.createElement(g,{addItem:a.addItem}),r.a.createElement(m,{changeStatus:a.changeStatus,changePriority:a.changePriority,changeTitle:a.changeTitle,tasks:a.state.tasks.filter(function(t){switch(a.state.filterValue){case"All":return t;case"Completed":return t.isDone;case"Active":return!t.isDone;default:return t}})}),r.a.createElement(v,{changeFilter:a.changeFilter,filterValue:a.state.filterValue})))},a}return Object(p.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){this.restoreState()}},{key:"componentDidUpdate",value:function(){this.saveState()}}]),e}(r.a.Component),O=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(d.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(i)))).state={todolists:[],nextTaskId:1},a.saveState=function(){var t=JSON.stringify(a.state);localStorage.setItem("mainTest-todolist",t)},a.restoreState=function(){var t={tasks:[]},e=localStorage.getItem("mainTest-todolist");null!==e&&(t=JSON.parse(e)),a.setState(t)},a.addTodoList=function(t){var e={id:a.state.nextTaskId,title:t};a.state.nextTaskId++;var n=[].concat(Object(c.a)(a.state.todolists),[e]);a.setState({todolists:n})},a.render=function(){var t=a.state.todolists.map(function(t){return r.a.createElement(b,{id:t.id,title:t.title})});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(g,{addItem:a.addTodoList})),r.a.createElement("div",{className:"App"},t))},a}return Object(p.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){this.restoreState()}},{key:"componentDidUpdate",value:function(){this.saveState()}}]),e}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},5:function(t,e,a){}},[[11,1,2]]]);
//# sourceMappingURL=main.9ec77312.chunk.js.map